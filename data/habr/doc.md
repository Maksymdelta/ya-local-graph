![КДПВ](https://habrastorage.org/web/413/ebc/8cd/413ebc8cd62745ae89c51b1b38dc58c9.png)

Я очень давно пользуюсь яндекс музыкой для поиска "что послушать". Чаще всего я просто хожу по похожим исполнителям приятных мне групп, однако этот метод уже давно не даёт результатов.  Какое-то время мои потребности закрывало я.радио с фильтром по жанру, но и его репертуар на удивление скуп. Решено было решать проблему глобально и вот что из этого вышло =)
<cut />

### Что хотелось
Сразу замечу, что я не ставил целью узнать как и хорошо ли работают рекомендации или провести кластерный анализ. Над полученными данными можно поработать в очень разные стороны, но для моей конечной цели это не нужно.
А хотелось в первую очередь найти тех рок и металл исполнителей, о которых все знают, а я ввиду своей неопытности - нет.

Проблема ерундовая, скажете вы, возьми ТОП100 по версии какого либо издания и радуйся, но оно так не работает: все топы, что я видел, либо слишком “новомодные” и мне не по нраву, либо очень классические и я всё это уже слышал.

Вообще мои путешествия по музыке это отдельная история: смешно было лицезреть лица  друзей-металлистов, когда я им рассказывал про новых для себя [Black Sabbath](https://music.yandex.ru/artist/3276) в контексте “*вы только послушайте как звучат*” =)

В общем решено было собрать всех рокеров и металлистов и их ссылки на похожих, посчитать входящие степени и построить свой топ. Ну и раз уж у меня есть явно сетевая структура, не визуализировать её в виде графа было выше моих сил.


### Как собирал
Не раз и не два садился я за этот проект, но каждый раз интерес затухал раньше значимого результата (прямо по книжке). В этот раз я решил послушаться идеологов хакатонов и постарался напилить минимальный рабочий продукт за минимальное же время. По этой причине остановился на сборе наиболее близких мне жанров рока и метала вместо сбора всей музыки.

Сам парсинг написан на питоне и селениуме плюс Postgree для данных, поскольку под рукой был готовый проект на этом стеке. Селениум для продакшена решение конечно спорное, но у нас и не продакшен.

Для начала я собрал данные по рок исполнителям, их оказалось около шести тысяч.
Когда стал собирать ссылки на похожих оказалось, что рокеров на самом деле сильно больше и только небольшая их часть представлена в индексе по жанру. Отдельно собирал поджанры (русские рок и другие) - они с основным индексом совсем слабо пересекаются.  С металлом сюрпризов уже не было, разве что на середине парсинга у него появились поджанры и пришлось собирать всё заново.

В общем трижды всё пересобрав я понял что всё что мог сделал и нужно рисовать.
Хотелось бы отдельно попросить не ругаться ребят из яндекса на мои паразитные запросы, пусть их было не так много - парни, всё ради науки =)


### Как рисовал
Хотел я наконец отказаться от ручного рисования в пользу [Gephi](https://gephi.org/), чтоб только ползуночки двигать между красиво и понятно, но не срослось - небольшие графы на тысячу вершин он отлично рисует, а в десять раз больше молча отказывается. Ни ошибок ни приветов, у коллег на винде работает, а у меня белый лист =( Сделал себе зарубку к нему вернуться (и вам рекомендую) и пошёл рисовать привычными средствами.
Поднял довольно старенькое [сравнение](http://blog.esemi.ru/search/label/graph) питонячих либ для распасовки графов и выбрал [Igraph](http://igraph.org/python/) с FR алгоритмом за итоговую картинку и удовлетворительную производительность.
