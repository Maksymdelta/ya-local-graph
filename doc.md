# Вступление
Я очень давно пользуюсь яндекс музыкой для поиска новых для меня исполнителей в определённом жанре.
Чаще всего я просто хожу по похожим исполнителям приятных мне групп.
И сколько хожу, столько и хочу посмотреть все эти ссылки в виде графа.
Наконец дошли руки посчитать и посмотреть картину похожих исполнителей в целом. Вот что из этого вышло =)


# Что хотелось
Не раз и не два садился я за этот проект, но каждый раз интерес затухал раньше значимого результата (прямо по книжке).
В этот раз я решил послушаться идеологов хакатонов и постарался напилить минимальный рабочий продукт за минимальное же время.
Остановился на наиболее близких мне жанрах рока и метала, оба они не самые большие - меньше собирать, быстрее считать.


# Как собирал
Сам парсинг написан на питоне и селениуме, поскольку под рукой был готовый проект на этом стеке.
Селениум для продакшена решение конечно спорное (а у нас и не продакшен), зато простое и не злит бот-защиту, а значит отлично отвечает нашим требованиям "сделай быстро и чтоб работало".
Хотелось бы отдельно попросить не ругаться ребят из яндекса на мои паразитные запросы, пусть их было не так много - парни, всё ради науки =)

Для начала я собрал данные по рок исполнителям, их оказалось около шести тысяч.
Когда стал собирать связи стало ясно, что рокеров на самом деле больше, просто только самые популярные представленны в индексе по жанру.
Потрудиться пришлось и над поджанрами рока (русский рок и другие): всего пара первых страниц популярных исполнителей поджанров входит в индекс рока.
В итоге графов получилось два
- основной, включает в себя всех исполнителей которые отображены в индексе по жанру и его поджанрам
- полный, со всеми исполнителями данного жанра

На середине пути парсинга металла у него появились поджанры, правда на тот момент слабо заполненные. Пришлось собирать всё заново
Отдельно стоит упомянуть о весеннем релизе похожих артистов.
Официальных новостей по этому поводу я не нашёл, но по упавшему количеству рёбер сразу стало видно изменения.
Пришлось пересобрать всю базу, но этого того стоило: ссылок на похожих стало сильно меньше и субъективно они стали релевантнее.

В общем трижды пересобрав БД я понял что всё что мог я сделал, нужно рисовать =))

# Как рисовал
Хотел я наконец отказаться от ручного рисования в пользу gephi, чтоб только ползуночки двигать между "красиво или понятно", но не сраслось.
Небольшие графы на тысячу вершин он мне отлично рисует, а в десять раз больше молча отказывается. Ошибок нет, памяти хватает, у коллег на винде работает, а у меня белый лист =(
Сделал себе зарубку к нему вернуться (и вам рекомендую) и пошёл рисовать привычными средствами.
Поднял довольно старенькое сравнение питонячих либ для распасовки графов и выбрал Igraph с FR алгоритмом (другие я тоже строил, но этот получился нагляднее всего).
Пришлось немного повозиться с настройками внешнего вида и вот что вышло.


# Что получилось
Все графы построены без учёта одиночек - тех артистов, на которых никто не ссылается и которые сами ни на кого не ссылаются.
По моему они только создают шум и не дают никакой дополнительной информации. Но вы всегда можете поупражняться с ними, исходники в конце я дам =)
В легенде на картинках размеры графа в виде "вершины х рёбра".

# TODO-compute
Основной граф по всем жанрам рока.
Включает в себя только тех рокеров, которые присутствуют в выдаче по любому из жанров.
- граф по основному року (русский рок так далёк)


- граф по всему року (плотная каша и неинтересно)
- граф по осноному металлу
- граф по всему металлу


Отдельные графы поджанров включают в себя всех артистов каждого жанра и ссылки между ними, без учёта "элитарности".
- ~~отдельные графы по стилям метала~~
Поджанры металла, как я уже упоминал, на момент сбора только появились, думаю сейчас они полнее.
- ~~отдельные графы по cтилям рока~~
Заметьте насколько прогрессив и рок-н-ролл опережают своих собратьев.
Думаю тут есть над чем поработать в плане контента =)


- пересечение метала и рока х 2 (топ9)
- топ3 похожих для полных графов
- топ6 похожих для полных графов

- топы по степеням внутри жанров
- топы по степеням вне жанров
- размер вершины пропорционален степени
- интересные топы по степеням

- интерактивная фиговина?


# Заключение
заключение, просьба фидбека, ссылки на дампы












